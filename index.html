<!DOCTYPE html>
<html>
    <head>

        <link rel="stylesheet" href="css/monthly.css">
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/monthly.js"></script>
        <script type="text/javascript" src="js/schedule.js"></script>
        <script src="config.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-database.js"></script>
        <script>
                var db = firebase.database();
                var chatAll = db.ref("/chat/all");
                //DB内容が変更されたとき実行される
                chatAll.on("value", function(snapshot) {
                  document.getElementById("textMessage").innerText = snapshot.val().message;
                });
                //入力内容を更新した時
                var changeData = function(){
                  var message = document.getElementById("message").value;
                  chatAll.set({message:message});
                }
                //htmlロードが完了したらボタンにイベントを設定
                window.onload = function() {
                 document.getElementById("btnChangeData").onclick = changeData;
                };
        </script>
    </head>
    <body>
        <p>リアルタイムデータベース</p>
        <ul>
        <li id="textMessage"></li>
        <li><input type="text" name="" id="message"></li>
        <li><input type="button" value="更新" id="btnChangeData"></li>
        </ul>
        <div style="width:100%; max-width:900px; display:inline-block;">
                <div class="monthly" id="mycalendar"></div>
        </div>
        
    </body>
</html>